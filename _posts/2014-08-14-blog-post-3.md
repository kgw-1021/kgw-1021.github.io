---
title: 'Gaussian Belief Propagation for Multi-Robot Global Planning'
date: 2025-10-04
permalink: /posts/2025/10/blog-post-1/
tags:
  - Gaussian Belief Propagation
  - Multi-robot planning
  - research note
---

# Gaussian Belief Propagation for Long-Horizon Multi-Robot Planning (Discounted GBP Framework) 임시 정리글

## 1. 연구 개요
이 연구는 다중 로봇 환경에서 **Gaussian Belief Propagation (GBP)**을 이용해 **collision-free 글로벌 플래닝**을 수행하는 프레임워크를 제안한다. 기존 연구들(Patwardhan et al., 2022; Bari et al., 2023)은 GBP를 기반으로 로봇 간 메시지 교환을 통해 분산적 경로 최적화를 수행했으나, **planning horizon이 길어질수록 메시지 수렴이 어렵다는 한계**를 가진다. 본 연구에서는 **먼 horizon에 대한 감가율(discount factor)**을 적용하여 수렴 안정성을 확보하는 방법을 제안한다.


---


## 2. 기존 연구의 한계
- Loopy GBP는 factor graph 내 순환(loop) 존재 시 수렴이 보장되지 않음.
- Horizon이 길어질수록 (factor graph의 노드 수 증가) 메시지 업데이트 횟수와 상호의존성이 급격히 증가.
- Collision, Dynamics, Smoothness 등 factor의 coupling으로 인해 energy landscape이 매우 복잡해져 local minimum에 빠질 확률이 높음.


---


## 3. 제안 방법 (Discounted Gaussian Belief Propagation)
### 3.1 핵심 아이디어
- 시간 축에서 멀리 떨어진 factor에 대해 **discount weight γ < 1**을 적용하여, 먼 미래에 대한 정보의 영향을 약화시킴.
- 메시지 업데이트 단계에서 각 factor의 precision matrix를 γ에 따라 가중.
- Discount된 GBP는 distant horizon의 불확실성을 완화시키고, 수렴을 빠르게 유도.


### 3.2 수학적 형태
Factor Graph는 다음과 같이 구성된다.
\[
F = \{f_{pose}, f_{dyn}, f_{obs}, f_{int}\}
\]


각 factor의 에러 항은 다음과 같다.
- **Pose Factor:**  $$ \( f_{pose}(x_t, x_{t+1}) = x_{t+1} - x_t \) $$
- **Dynamics Factor:** $$ \( f_{dyn}(x_t, u_t) = x_{t+1} - (x_t + f(x_t, u_t)\Delta t) \) $$
- **Obstacle Factor:** $$ \( f_{obs}(x_t) = \text{dist}(x_t, O) \) $$
- **Inter-Robot Factor:** $$ \( f_{int}(x_t^i, x_t^j) = \|x_t^i - x_t^j\| - d_{safe} \) $$


Discount 적용 시, 시간 \(t\)에서의 가중치는:
\[
\Lambda_t = \gamma^{t} \Lambda_0
\]
으로 표현되며, 메시지 업데이트는 다음과 같이 수행된다.
\[
\mu_i^{(k+1)} = \sum_{j \in N(i)} \gamma^{t_j} W_{ij} (x_j^{(k)} - A_{ij}^{-1} b_{ij})
\]


---


## 4. Factor 구성
논문 “Distributing Collaborative Multi-Robot Planning with Gaussian Belief Propagation (Patwardhan et al., 2022)”에서 사용한 factor를 그대로 사용한다.


1. **Pose Factor** – 인접한 상태 간의 위치 연속성을 유지.
2. **Dynamics Factor** – 로봇 동역학 모델에 따른 smooth한 움직임 유도.
3. **Obstacle Factor** – 환경 내 장애물 회피.
4. **Inter-Robot Factor** – 다른 로봇과의 거리 유지 (collision-free).


추가적으로 적용 가능한 factor:
- **Goal Attraction Factor:** 목표 지점으로의 수렴을 유도.
- **Communication Factor:** 로봇 간 통신 거리 제약 반영.
- **Energy Factor:** 이동 에너지 최소화 제약.


---


## 5. 구현 계획 (PyBullet Simulation)
- PyBullet 환경에서 2~4대 로봇이 주어진 환경 내에서 글로벌 경로를 탐색.
- 각 로봇은 GBP 기반으로 분산적 메시지 교환을 수행.
- Pose, Dynamics, Obstacle, Inter-Robot Factor로 factor graph를 구성.
- 긴 horizon(T=100~200)에 대해 discount factor γ ∈ [0.9, 0.99] 적용.
- 수렴률, 충돌률, 경로 smoothness를 평가 지표로 설정.


---


## 6. 기대 효과
- 긴 horizon에서도 수렴 안정성 확보.
- distant horizon의 불확실성으로 인한 진동/발산 감소.
- 분산형 로봇 플래닝을 글로벌 수준으로 확장 가능.


---


## 7. 향후 연구 방향
- Adaptive Discount 설계: error 잔차나 정보량(entropy)에 따라 γ 동적 조정.
- Sliding Window GBP와 결합하여 실시간 재계획 (receding horizon)
- 실제 다중 로봇 하드웨어 테스트 및 통신 제한 환경 적용.


---


## 8. 참조 문헌
- Patwardhan, Murai, Davison, *“Distributing Collaborative Multi-Robot Planning with Gaussian Belief Propagation”*, 2022.
- Bari, Gabler, Wollherr, *“Probabilistic Inference-Based Robot Motion Planning via Gaussian Belief Propagation”*, 2023.
- Yedidia et al., *“Understanding Belief Propagation and Its Generalizations”*, 2003.
